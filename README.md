# Splat

An implementation of [gaussian splatting](https://iquilezles.org/articles/genetic), a method of representing images with blurry ellipses.

All computation is done on the GPU, with parameter modifications done on the CPU.

## Usage

```
Usage: splat train [OPTIONS] <PATH>

Arguments:
  <PATH>
          A path to the desired image. It should be 512x512 pixels

Options:
  -o, --output <OUTPUT>
          A path to the output checkpoint file

          [default: solution.bin]

  -t, --threshold <THRESHOLD>
          The threshold for the difference between the current image and the target image.

          This is calculated as the sum of the absolute differences between the red, green, and blue channels of each pixel.

          [default: 5000000]

  -c, --checkpoint <CHECKPOINT>
          A path to a checkpoint file. This file should contain 4000 bytes, which are generated by the program when it finishes

  -h, --help
          Print help (see a summary with '-h')
```

### Examples

```sh
splat train image.png
# use the previous checkpoint to further improve the splat arrangement
splat train image.png -t 1000000 -c solution.bin
```

## Pipeline

1. Generate a random set of splats
2. Nudge a splat's parameters
3. Render the splats to an image
4. Calculate the difference between the rendered image and the target image
5. If the difference is higher than the previous run, rollback the change
6. Repeat steps 2-5 until the difference is below the threshold

## License

This project is licensed under the MIT License.

